# Source: https://qceqatwapp101.sd01.unicreditgroup.eu:5443/docs/advancedeligrules.html

# Advanced Eligibility Rules

Advanced Eligibility Rules can be defined and have a bucket associated with it. See [Advanced Eligibility Fields](<#advanced-eligibility-fields>) for more information.

## Adding a Rule

**Procedure**

  1. Click the **Add** button.
  2. **_New Eligibility Rule_** form will open up.
  3. Enter a the information for the advanced eligibility rule. The required fields must be entered before the rule can be saved.
     1. Required fields consist of the Rule Name, Applies To, Buckets, and a minimum of one Parameter Criteria. See [Advanced Eligibility Fields](<#advanced-eligibility-fields>) for the list of available fields for the rule.
  4. Once the minimum information has been added, the **OK** button can be clicked and the value is added to the grid in the agreement under Advanced Eligibility Rules.
  5. Click the **Save** button to save the changes to the agreement.



**Note:** Multiple parameter criteria can be added to a single rule.

## Editing a Rule

**Procedure**

  1. Click on the Edit ![edit_icon.jpg](Images/edit_icon.jpg) icon next to the rule that needs to be modified.
  2. Make the necessary changes to the [Advanced Eligibility Fields](<#advanced-eligibility-fields>) and click the **OK** button to save the changes to Advanced Eligibility grid.
  3. Click the **Save** button to save the changes to the agreement.



## Deleting a Rule

**Procedure**

  1. To Delete, click on the Delete ![delete_icon.jpg](Images/delete_icon.jpg) icon next to the rule.
  2. A _Delete Advanced Eligibility_ form will open up asking the user if they are sure they want to delete the rule.
  3. Click the **Delete** button to remove the rule from the agreement.
  4. Click the **Save** button to commit the changes.



## Advanced Eligibility Fields

**Note:** Fields in red are required.

Field | Agreement Type | Description  
---|---|---  
Rule Name | All | The name will be referenced when eligibility criteria are not met so the name should be meaningful but kept short if possible. For example, " DTC Eligible". The name is a mandatory field so the rule cannot be saved if this field has not been populated.  
Applies To | OTC | The choices are:  
  
**Variation Held** \- These rules will be tested when the Principal is Holding the collateral of a Variation Margin Type.  
  
**Variation Posted** \- These rules will be tested when the when the Principal is Posting collateral of Variation margin type.  
  
Optionally, if the Agreement is for an OTC Agreement with a collateral allocation method of segregate Lock Up and Variation, two additional levels can be defined at which the rule can be applied.  
  
**Lock Up Held** \- These rules will be tested when the Principal is Holding the collateral of a Lock Up Margin Type.  
  
**Lock Up Posted** \- These rules will be tested when the Principal is Posting the collateral of a Lock Up Margin Type.  
| OTC Lock Up Only | The choices are:  
  
**Lock Up Held ** - These rules will be tested when the Principal is Holding the collateral of a Lock Up Margin Type.  
  
** Lock Up Posted** - These rules will be tested when the Principal is Posting the collateral of a Lock Up Margin Type.  
| Client & Central Clearing | The choices are:  
  
**Held** \- These rules will be tested when the Principal is Holding the collateral.  
  
**Posted** \- These rules will be tested when the when the Principal is Posting collateral.  
  
These rules will be tested when the Principal is Posting collateral of a Lock Up Margin Type.  
Buckets | All | The eligible collateral bucket or buckets to which the advanced eligibility parameters should be applied.  
  
The buckets available for selection are only those which have been assigned as eligible to the relevant party/parties on the [Basic Eligibility](<basiceligibility.html#basic-eligibility>) tab of the agreement.  
Criteria | All | **Instrument Parameter**  
\- Agency  
\- Amount Issued  
\- Amount Issued Where EUR (See [Note](<#Note>) below)  
\- Amount Issued Where GBP (See [Note](<#Note>) below)  
\- Amount Issued Where USD (See [Note](<#Note>) below)  
\- Amount Outstanding  
\- Amount Outstanding Where EUR (See [Note](<#Note>) below)  
\- Amount Outstanding Where GBP (See [Note](<#Note>) below)  
\- Amount Outstanding Where USD (See [Note](<#Note>) below)  
\- Bond Purpose  
\- CMO/ ABS Asset Class  
\- Coupon Type  
\- Credit Enhanced  
\- DTC Eligible  
\- Fitch Watch  
\- Fund Source  
\- Index Linked  
\- Industry Group  
\- Instrument Currency  
\- Instrument Underlying Sector  
\- Is Bullet  
\- Is Callable Bond  
\- Is Convertible Bond  
\- Is Covered Bond  
\- Is Credit Linked NotesÂ®  
\- Is Guaranteed  
\- Is Private Placement  
\- Is Putable  
\- Is Senior  
\- Is Sinkable Fund  
\- Issuer  
\- Issuer Domicile  
\- Issuer Industry Sector  
\- Moody Watch  
\- Mortgage Factor  
\- Municipal Region  
\- Municipal State  
\- Number Of Ratings  
\- Pass Through  
\- Percent Single Family  
\- Prime  
\- Seasoning  
\- Second Lien Percent  
\- SPWatch  
\- Underlying Asset Country  
\- Weighted Average Coupon  
\- Weighted Average FICO  
\- Weighted Average Life  
\- Weighted Average Loan Size  
\- Weighted Average LTV  
\- Weighted Average Maturity  
  
**Note:** It is not possible to select Instrument Extensions as parameters  
  
\---------------------------------------------------------------------------------------------------------------  
  
**Equivalent** \- Select the appropriate equivalent to be used in the calculation. The choices are limited according to the type of parameter chosen.  
  
_Char_ ==> "In" or "Not In"  
  
_Bit_ ==> "Is"  
  
_Money or Integer_ ==> (<, <=, <>, =, > or >=)  
  
\---------------------------------------------------------------------------------------------------------------  
  
**Values** \- Enter the appropriate value to be checked in the calculation. The options here are again dependent on the type of parameter chosen. Example: If a "Char" parameter has been chosen, then a list of all the values available in the database for that particular parameter will be visible. If "Money" or "Integer" has been chosen then the just type in the value for comparison. If the "Bit" parameter has been chosen, then a check box will be made visible.  
  
\---------------------------------------------------------------------------------------------------------------  
  
**Action When Null** \- It is necessary to define what should occur if the instrument parameter selected is null in the database. The options are either to fail the rule when a parameter is null or to ignore a rule when the parameter is null. Generally the option here will depend on the type of equivalent chosen.  
  
Example: If the rule says "Coupon Type = Fixed" and the Coupon Type comes through on the Instruments feed with a null value then it does not equal fixed and therefore the rule has failed. Conversely, if the rule was to say "Coupon Type <> Floating" and a null value was received the null value can be ignored and the rule can pass because, in this case, the Coupon Type is not floating.
