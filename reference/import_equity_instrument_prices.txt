# Source: https://qceqatwapp101.sd01.unicreditgroup.eu:5443/docs/import_equity_instrument_prices.html

# File Format for Equity Instrument Prices

When importing Equity Instrument Prices, all previous records are not deleted when a new import is run. The import is done on an insert and update basis.

Equity Instrument Prices are unique per Instrument ID, and Price Source , and are independent of the Import Configuration used to import them. That is, if two different Equity Instrument Price Import Configurations exist and contain prices for the same set of instrument ID's and Price Sources, then the later import will overwrite the corresponding prices that were loaded in the earlier import.

Equity Instrument Prices can be subject to approval (if defined so in the system level configuration file.) If that is the case, no changes to the Equity Instrument Prices can be made manually or via an import. If a Equity Instrument Prices import is run while the prices are pending approval, a [validation message 356](<validation_messages.html#356>) is raised.

If Approvals for Instruments is enabled, and a Newly created Instrument is awaiting approval, any instrument price imported for that instrument will not find it, as it does not yet appear as approved in the database.

When the import is run, the system checks to see whether the price entry on the file matches an instrument price record in the system in two key areas:

Instrument Identifier ID

Price Source

If it does, then the prices contained on the import file for that instrument updates the corresponding instrument prices in the system (subject to other validation criteria)

Display Name | Mapping File Column Name | Mandatory | Type, Length and comments | Example | Description  
---|---|---|---|---|---  
Instrument | InstrumentIdentifier | Yes | Char (30) | Google  
  
US4592001014 | The instrument Identifier on the file must match one of the following ID types for the instrument in the system:  
  
ISIN  
  
CUSIP  
  
SEDOL  
  
Internal  
  
Ticker  
  
otherwise, [Validation Message 198](<validation_messages.html#198>) and [Validation Message 9](<validation_messages.html#9>). are raised.  
  
If the field is blank, then [Validation Message 9](<validation_messages.html#9>) is raised.  
  
Additionally, if the Instrument Identifier is for a Cash Instrument or a Letter of Credit Instrument, then validation message 291 is raised.  
  
In all validation failures above, the record is not imported.  
  
**Note:** If a Debt Instrument is included on the equity import file, it is ignored without validation messages raised.  
Price Source | PriceSource | Yes | Char (100) | Reuters | Price source must match a price source that exists in the system, otherwise [Validation Message 196](<validation_messages.html#196>).  
  
The price source that cannot be matched will be shown in [Validation Message 9](<validation_messages.html#9>).  
  
Additionally, if price source is missing [Validation Message 9](<validation_messages.html#9>) will occur.  
Date | PriceDate | Yes | Date Time | 12/04/2008 | The date can either be contained in the file or set as a default value in the mapping file. See [How to Import Data Using a Mapping File](<import_example_agmt_mapping_file.html>)  
  
If Price Date in included in the file, and it is missing on any row,   
  
[Validation Message 9](<validation_messages.html#9>) will occur.  
Bid Price | BidPrice | Yes- -see description | Decimal (17,8) | 101.7525 | **Note:** Although the import mapping file must include all three price fields, it is not necessary to populate data values for all three.  
  
At least one price (bid/mid/ask) needs to be supplied, otherwise [Validation Message 290](<validation_messages.html#290>) will be raised and the record will not be imported.  
  
If an Instrument appears more than once in the import file, only one set of records will be imported.  
Mid Price | MidPrice | Yes - see description | Decimal (17,8) | 102.3755 | See above description for Bid Price.  
Ask Price | AskPrice | Yes - see description | Decimal (17,8) | 103.125 | See above description for Bid Price.  
BidAskSpread | BidAskSpread | Yes - see description | bigint (19,0) | 12000 | **Note:** Although the import mapping file must include the BidAskSpread field, it is not necessary to populate a data value.  
  
This represents the differential between the Bid Price and the Ask Price, represented in basis points.  
  
If quoted on the import file, the system will import it, and the Calculated field on Equity Instrument will read N  
  
If not included on the file, the system will calculate the spread based on the formula:  
  
((AskPrice-BidPrice)/Ask Price)*10,000  
  
If both Bid and Ask prices are not included on the file, spread is not calculated and is defaulted to be zero.  
  
**Note:** This import is intended solely for Equity Instruments, and as such will ignore any Debt Instruments included on it. 
